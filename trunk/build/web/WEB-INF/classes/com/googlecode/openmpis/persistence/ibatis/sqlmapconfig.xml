<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMapConfig PUBLIC "-//ibatis.apache.org//DTD SQL Map Config 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-config-2.dtd">

<!-- Always ensure to use the correct XML header as above! -->
<sqlMapConfig>
    <!-- The properties (name=value) in the file specified here can be used placeholders in this config
    file (e.g. “${driver}”. The file is usually relative to the classpath and is optional. -->
    <properties resource="com/googlecode/openmpis/persistence/ibatis/sqlmapconfig.properties" />
    
    <!-- These settings control SqlMap configuration details, primarily to do with transaction
    management. They are all optional (see the Developer Guide for more). -->
    <settings
        cacheModelsEnabled="true"
        enhancementEnabled="true"
        lazyLoadingEnabled="true"
        maxRequests="32"
        maxSessions="10"
        maxTransactions="5"
        useStatementNamespaces="false"
    />

    <!-- Type aliases allow you to use a shorter name for long fully qualified class names. -->
    <typeAlias alias="abductor" type="com.googlecode.openmpis.model.Abductor"/>
    <typeAlias alias="log" type="com.googlecode.openmpis.model.Log"/>
    <typeAlias alias="message" type="com.googlecode.openmpis.model.Message"/>
    <typeAlias alias="person" type="com.googlecode.openmpis.model.Person"/>
    <typeAlias alias="relative" type="com.googlecode.openmpis.model.Relative"/>
    <typeAlias alias="report" type="com.googlecode.openmpis.model.Report"/>
    <typeAlias alias="user" type="com.googlecode.openmpis.model.User"/>

    <!-- Configure a datasource to use with this SQL Map using SimpleDataSource.
    Notice the use of the properties from the above resource -->
    <transactionManager type="JDBC" >
        <dataSource type="SIMPLE">
            <property name="JDBC.Driver" value="${driver}"/>
            <property name="JDBC.ConnectionURL" value="${url}"/>
            <property name="JDBC.Username" value="${username}"/>
            <property name="JDBC.Password" value="${password}"/>
        </dataSource>
    </transactionManager>

    <!-- Identify all SQL Map XML files to be loaded by this SQL map. Notice the paths
    are relative to the classpath. For now, we only have one… -->
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/abductor.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/log.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/message.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/person.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/relative.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/report.xml" />
    <sqlMap resource="com/googlecode/openmpis/persistence/ibatis/user.xml" />
</sqlMapConfig>