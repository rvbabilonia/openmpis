<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Message">
    <!-- Use primitive wrapper type (e.g. Integer) as parameter and allow results to
    be auto-mapped results to Person object (JavaBean) properties -->
    <select id="getMessage" parameterClass="int" resultClass="com.googlecode.openmpis.model.Message">
        SELECT
        ID as id,
        FIRSTNAME as firstName,
        LASTNAME as lastName,
        SUBJECT as subject,
        MESSAGE as message,
        EMAIL as email,
        IPADDRESS as ipAddress,
        PERSONID as personID,
        DATE as date,
        FROM MESSAGE
        WHERE ID = #id#
    </select>

    <!-- Use Person object (JavaBean) properties as parameters for insert. Each of the
    parameters in the #hash# symbols is a JavaBeans property. -->
    <insert id="insertMessage" parameterClass="com.googlecode.openmpis.model.Message">
        INSERT INTO MESSAGE
        (FIRSTNAME, LASTNAME, EMAIL, SUBJECT, MESSAGE, IPADDRESS, PERSONID, DATE)
        VALUES
        (#firstName#, #lastName#, #email#, #subject#, #message#, #ipAddress#,
        #personID#, #date#)
    </insert>

    <!-- Use Person object (JavaBean) properties as parameters for update. Each of the
    parameters in the #hash# symbols is a JavaBeans property. -->
    <update id="updateMessage" parameterClass="com.googlecode.openmpis.model.Message">
        UPDATE MESSAGE SET
        FIRSTNAME = #firstName#,
        LASTNAME = #lastName#,
        EMAIL = #email#,
        SUBJECT = #subject#,
        MESSAGE = #message#,
        IPADDRESS = #ipAddress#,
        PERSONID = #personID#,
        DATE = #date#
        WHERE ID = #id#
    </update>

    <!-- Use Person object (JavaBean) “id” properties as parameters for delete. Each of the
    parameters in the #hash# symbols is a JavaBeans property. -->
    <delete id="deleteMessage" parameterClass="int">
        DELETE MESSAGE
        WHERE ID = #id#
    </delete>
</sqlMap>